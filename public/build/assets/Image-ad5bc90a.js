import{p as _,v as V,r as S,o as m,f as v,a as r,w as u,e as $,b as o,d as w,n as P,u as i,c as j,g as y}from"./app-4dfa7f3b.js";import{_ as x}from"./DangerButton-9faead77.js";import{a as D,_ as I}from"./SecondaryButton-c5891444.js";import{d as k}from"./defaultFile-2b6c57d3.js";import{t as b}from"./toast-ded66f04.js";const N={class:"p-6"},q=o("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Are you sure you want to delete this? ",-1),B=o("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Once is deleted, all of its resources and data will be permanently deleted. ",-1),E={class:"mt-6 flex justify-end"},U={__name:"DeleteImage",props:{id:String|Number,route:String,field:String,modelValue:String},emits:["update:modelValue"],setup(t,{emit:f}){const n=t,s=_(!1),l=V({field:n.field,modelValue:n.modelValue}),d=()=>{s.value=!0},e=()=>{l.delete(route(`${n.route}.destroy`,n.id),{preserveScroll:!0,onSuccess:()=>c(),onError:()=>passwordInput.value.focus(),onFinish:()=>f("update:modelValue",k.placeholder)})},c=()=>{l.reset(),s.value=!1};return(h,p)=>{const a=S("font-awesome-icon");return m(),v("section",null,[r(x,{onClick:$(d,["prevent"])},{default:u(()=>[r(a,{icon:"fa-solid fa-trash",class:"mr-1"})]),_:1},8,["onClick"]),r(I,{show:s.value,onClose:c},{default:u(()=>[o("div",N,[q,B,o("div",E,[r(D,{onClick:c},{default:u(()=>[w(" Cancel ")]),_:1}),r(x,{class:P(["ml-3",{"opacity-25":i(l).processing}]),disabled:i(l).processing,onClick:e},{default:u(()=>[r(a,{icon:"fa-solid fa-trash",class:"mr-1"}),w(" Delete ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])])}}},F={class:"flex items-center justify-center overflow-hidden bg-gray-100 relative group min-w-sm max-w-xl h-full"},L=["src","alt"],M={class:"min-w-sm max-w-xl h-full absolute flex items-center justify-center transition-all transform translate-y-8 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 space-x-3"},O=["for"],R=["id"],z={key:0},K={__name:"Image",props:{modelValue:String,id:{type:[Number,String],default:"logo",require:!0},alt:{type:String,default:"image",require:!1},route:{type:String,default:"options",require:!1},field:{type:String,default:"option_value",require:!1},isDeleteable:{type:Boolean,default:!1,require:!1}},emits:["update:modelValue"],setup(t,{expose:f,emit:n}){const s=t,l=_(null),d=_(k.placeholder);f({focus:()=>l.value.focus()});const e=V({id:s.id,field:s.field,image:"",imagePreview:s.modelValue||d.value}),c=p=>{const a=p.target.files[0];e.imagePreview=URL.createObjectURL(a),e.post(route(`${s.route}.update`,s.id),{preserveScroll:!0,onSuccess:()=>h(),onError:()=>{e.errors.image&&(b.add({message:e.errors.image}),l.value.focus(),e.reset()),b.add({message:"Something went wrong!",success:!1})}})},h=()=>{n("update:modelValue",e.imagePreview)};return(p,a)=>{const C=S("font-awesome-icon");return m(),v("section",null,[o("div",F,[o("img",{src:i(e).imagePreview,alt:t.alt,class:"min-w-sm max-w-xl h-full inset-0 group-hover:opacity-50 shadow-md shadow-gray-900 object-cover object-center"},null,8,L),o("div",M,[o("div",null,[o("label",{for:t.id,class:"btn btn-primary cursor-pointer"},[r(C,{icon:"fa-solid fa-rotate"})],8,O),o("input",{id:t.id,type:"file",name:"image",class:"mt-1 form-controll cursor-pointer hidden",onChange:c,ref_key:"input",ref:l,onInput:a[0]||(a[0]=g=>i(e).image=g.target.files[0])},null,40,R)]),t.isDeleteable?(m(),v("span",z,[i(e).imagePreview!=d.value?(m(),j(U,{key:0,class:"cursor-pointer",id:t.id,route:t.route,field:t.field,modelValue:i(e).imagePreview,"onUpdate:modelValue":a[1]||(a[1]=g=>i(e).imagePreview=g)},null,8,["id","route","field","modelValue"])):y("",!0)])):y("",!0)])])])}}};export{K as _};
